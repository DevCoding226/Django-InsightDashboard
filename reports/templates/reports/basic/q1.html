  <div class="question-1 question-container">
    <div class="question-title">
      <div class="question-title-number">Question 1:</div>
      <div>How many of your patients under 35 years old with SCZ have Substance Abuse?</div>
    </div>
    <div class="row equal-heights">
      <div class="col-sm-12 col-md-6">
        <div class="report-card chart-card q1-pie-card report-card-red">
          <div class="report-card-head">
            <div class="title">EUROPE TOTAL</div>
            <div class="head-delim"></div>
          </div>
          <div class="report-card-body row">
            <div class="col-md-6 pie-info">
              <div class="pie-percentage report-card-text-lg" id="q1Percentage"></div>
              <div class="pie-notice report-card-text">
                total percentage of patients with SCZ that have abused drugs
              </div>
            </div>
            <div class="pie q1-pie col-md-6">
              <canvas id="q1Pie" width="150" height="150" style="width: 150px; height: 150px;"></canvas>
              <div id="q1PieLegend" class="chart-legend pie-legend reverse-legend"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-12 col-md-6">
        <div class="report-card chart-card report-card-red">
          <div class="report-card-head">
            <div class="title">BY COUNTRY</div>
            <div class="head-delim"></div>
          </div>
          <div class="report-card-body bars-body" id="q1BarChartContainer">
            <div id="q1BarChart" class="ct-chart"></div>
            <div id="q1BarLabels" class="ct-bar-labels"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  (function() {

    function drawQ1Pie() {
      var q1PieData = {
        labels: [
          "Substance abuse",
          "No abuse"
        ],
        datasets: [
          {
            data: [50, 128],
            backgroundColor: [
              "#b8103b",
              "#328ec9"
            ],
            hoverBackgroundColor: [
              "#b8103b",
              "#328ec9"
            ]
          }]
      };

      var total = q1PieData.datasets[0].data.reduce(function(a,b) {return a + b});
      var percentage = Math.round(q1PieData.datasets[0].data[1]/total*100);

      $('#q1Percentage').html(percentage + '%');
      ChartDrawer.drawPie(q1PieData, '#q1Pie', '#q1PieLegend')
    }

    function drawQ1Bars() {
      var q1BarsData = {
        labels: ['GERMANY', 'ITALY', 'FRANCE', 'SPAIN', 'NETHERLANDS', 'LUXEMBURG'],
        series: [
          {meta: 5000, value: 50},
          {meta: 2000, value: 20},
          {meta: 0, value: -1},
          {meta: 8400, value: 84},
          {meta: 0, value: 0},
          {meta: 63000, value: 63}
        ]
      };

      ChartDrawer.drawVerticalBarChart('#q1BarChartContainer', '#q1BarChart', '#q1BarLabels', q1BarsData);
    }

    $(document).ready(function() {
      drawQ1Pie();
      drawQ1Bars();
    });
  })();
</script>
